<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="./style.css">
  <title>Snake Retro</title>
  <style>
    /* Estilo geral inspirado na primeira versão do portfólio (azul + aqua) */
    body {
      background: linear-gradient(180deg,#06111a 0%, #0b1220 40%); /* fundo em tons de azul escuro */
      color: #e6eef8;                          /* texto claro */
      font-family: 'Inter', system-ui, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
    }

    canvas {
      background: linear-gradient(180deg,#071018,#0f1724); /* tabuleiro azul escuro */
      border: 2px solid #2ee0b4;              /* borda aqua */
      border-radius: 14px;                    /* cantos arredondados suaves */
      box-shadow: 0 10px 30px rgba(46,184,135,0.25); /* sombra suave aqua */
    }

    h1 {
      margin-bottom: 12px;
      color: #2ee0b4;                          /* título em aqua */
      font-weight: 700;
      font-size: 22px;
      letter-spacing: 0.5px;
      text-shadow: 0 0 6px rgba(46,224,180,0.45); /* glow sutil */
    }
  </style>
</head>
<body>
    <header>
        <div class="brand">
        <div class="logo">RH</div>
        <div>
            <h1>Ronan Henrique de Medeiros</h1>
            <p>Automação Industrial • Desenvolvimento Web</p>
        </div>
        </div>

        <nav aria-label="Navegação principal">
        <a href="./index.html"> Portfólio </a>
        <a href="./about.html"> Sobre mim </a>
        <a href="./jogo.html"> Jogo </a>
        </nav>

        <div class="controls">

            <a class="btn" href="https://www.linkedin.com/in/ronan-henrique-de-medeiros" target="_blank">LinkedIn</a>
            <a class="btn" href="https://github.com/GreenDev-ill" target="_blank">GitHub</a>
            <a class="btn primary" href="mailto:ronan.bottcher@gmail.com">Contactar</a>
        </div>
    </header>
  <!-- Título do jogo -->
  <h1>Snake Retro</h1>
  
  <!-- Área do jogo -->
  <canvas id="game" width="400" height="400"></canvas>
<footer style="padding:18px 20px;text-align:center;color:var(--muted)">Portfólio: Ronan H. Medeiros — &copy; 2025.</footer>
  <script>
    // Seleciona o canvas do HTML
    const canvas = document.getElementById("game");
    const ctx = canvas.getContext("2d");   // Define o contexto 2D para desenhar

    // Define o tamanho de cada quadrado do grid
    const box = 20;

    // Cria a cobra como um array de coordenadas (x,y)
    let snake = [];
    snake[0] = { x: 9 * box, y: 10 * box }; // Posição inicial da cabeça

    // Define a posição inicial da comida em local aleatório
    let food = {
      x: Math.floor(Math.random() * 19 + 1) * box,
      y: Math.floor(Math.random() * 19 + 1) * box
    };

    // Variável para guardar a direção da cobra
    let direction;

    // Variável de pontuação
    let score = 0;

    // Detecta a tecla pressionada
    document.addEventListener("keydown", setDirection);

    function setDirection(event) {
      // Verifica qual tecla foi pressionada e muda a direção
      if(event.keyCode == 37 && direction != "RIGHT") direction = "LEFT";   // seta esquerda
      else if(event.keyCode == 38 && direction != "DOWN") direction = "UP"; // seta cima
      else if(event.keyCode == 39 && direction != "LEFT") direction = "RIGHT"; // seta direita
      else if(event.keyCode == 40 && direction != "UP") direction = "DOWN"; // seta baixo
    }

    // Função principal do jogo
    function draw() {
      // Preenche o fundo a cada frame
      ctx.fillStyle = "#000";
      ctx.fillRect(0, 0, 400, 400);

      // Desenha a cobra
      for(let i = 0; i < snake.length; i++) {
        ctx.fillStyle = (i == 0) ? "#0f0" : "#1c1"; // Cabeça mais clara
        ctx.fillRect(snake[i].x, snake[i].y, box, box);

        ctx.strokeStyle = "#000"; // Borda preta dos quadrados
        ctx.strokeRect(snake[i].x, snake[i].y, box, box);
      }

      // Desenha a comida
      ctx.fillStyle = "#f00";
      ctx.fillRect(food.x, food.y, box, box);

      // Pega a posição atual da cabeça
      let snakeX = snake[0].x;
      let snakeY = snake[0].y;

      // Atualiza a posição da cabeça de acordo com a direção
      if(direction == "LEFT") snakeX -= box;
      if(direction == "UP") snakeY -= box;
      if(direction == "RIGHT") snakeX += box;
      if(direction == "DOWN") snakeY += box;

      // Se a cobra comer a comida
      if(snakeX == food.x && snakeY == food.y) {
        score++; // aumenta a pontuação
        // Gera nova comida
        food = {
          x: Math.floor(Math.random() * 19 + 1) * box,
          y: Math.floor(Math.random() * 19 + 1) * box
        };
      } else {
        snake.pop(); // remove a última parte da cauda se não comer
      }

      // Cria nova cabeça
      let newHead = { x: snakeX, y: snakeY };

      // Verifica colisão com o corpo ou borda
      if(snakeX < 0 || snakeY < 0 || snakeX >= 400 || snakeY >= 400 || collision(newHead, snake)) {
        clearInterval(game); // Para o jogo
        alert("Game Over! Pontuação: " + score); // Mostra mensagem
      }

      // Adiciona nova cabeça ao início
      snake.unshift(newHead);

      // Desenha a pontuação
      ctx.fillStyle = "#0f0";
      ctx.font = "20px monospace";
      ctx.fillText("Score: " + score, box, box);
    }

    // Função que detecta colisão com o corpo
    function collision(head, array) {
      for(let i = 0; i < array.length; i++) {
        if(head.x == array[i].x && head.y == array[i].y) {
          return true; // colisão detectada
        }
      }
      return false;
    }

    // Inicia o jogo atualizando a cada 100ms
    let game = setInterval(draw, 100);
  </script>
</body>
</html>
